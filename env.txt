baudrate=115200
boardtype=C02
bootdelay=1
bootdir=/boot
bootenv=uEnv.txt
bootfile=zImage
loadaddr=0x8000
ethact=emac
ethaddr0=08:00:27:00:01:92
ethaddr1=08:00:27:00:01:93
fileaddr=8000
filesize=5ef1c
stderr=serial
stdin=serial
stdout=serial
watchdog=0
detectboard=if gpio input 36;then setenv boardtype A02;else gpio clear 199;if gpio input 199;then setenv boardtype XBM;else setenv boardtype C02;fi;fi;

mtdparts=mtdparts=nand0:0x200000@0x0(u-boot),0x600000@0x200000(kernel),0x3200000@0x800000(rootfs),-(data)
importbootenv=echo importing environment...; env import -t $loadaddr $filesize
loadgpio=gpio set 291; gpio set 288; gpio set 41; gpio set 39; sleep 0.5; gpio clear 39; sleep 0.5; gpio set 39;
usbargs=setenv bootargs noinitrd root=/dev/sda2 rw rootfstype=ext4 rootwait console=ttyS0,${baudrate}n8 rdinit=/sbin/init flash=${flash_size}M mem=${ram_size}M ${mtdparts} ethaddr0=${ethaddr0} ethaddr1=${ethaddr1}
loadusbimage=fatload usb 0 ${loadaddr} ${bootdir}/${bootfile}-${boardtype}
loadusbargs=if fatload usb 0 ${loadaddr} ${bootdir}/${bootenv}; then run importbootenv; else run usbargs; fi;
usbboot=echo trying boot from u disk ...;usb start;if run loadusbimage; then run loadusbargs;bootz ${loadaddr}; fi;
nandargs=setenv bootargs noinitrd ubi.mtd=2 root=ubi0:rootfs rw rootfstype=ubifs console=ttyS0,${baudrate}n8  rdinit=/sbin/init flash=${flash_size}M mem=${ram_size}M ${mtdparts} ethaddr0=${ethaddr0} ethaddr1=${ethaddr1}
loadubiimage=ubifsload ${loadaddr} ${bootdir}/${bootfile}-${boardtype}
loadubiargs=if ubifsload ${loadaddr} ${bootdir}/${bootenv}; then run importbootenv; else run nandargs; fi;
ubiboot=echo trying boot from ubifs ...;ubi part rootfs;ubifsmount ubi0:rootfs;if run loadubiimage;then run loadubiargs;bootz ${loadaddr};fi
nandboot=echo trying boot from nand ...;  run nandargs; nboot 0x7fc0 0 0x200000; bootm 0x7fc0;
bootcmd=run detectboard;run loadgpio;run usbboot;run ubiboot;run nandboot;reset;